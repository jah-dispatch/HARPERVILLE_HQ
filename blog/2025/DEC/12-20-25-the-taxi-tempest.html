<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Harperville‚Ñ¢ | The Taxi Tempest</title>

  <link rel="stylesheet" href="/style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;500&display=swap" rel="stylesheet">


  <style>
    html, body {
      min-height: 100vh;
      margin: 0;
      padding: 0;
      background-color: #000000;
      background-image: radial-gradient(circle at center, #0f2e22 0%, #000000 100%);
      background-attachment: fixed;
      overflow-y: auto !important;
    }

    .noise {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      z-index: -1;
      pointer-events: none;
      opacity: 0.05;
    }

    main.container {
      width: 100%;
      max-width: 800px;
      margin: 0 auto;
      padding: 6rem 20px 4rem 20px;
      box-sizing: border-box;
      position: relative;
      z-index: 1;
    }

    nav {
      position: absolute;
      top: 20px;
      left: 20px;
      z-index: 100;
    }

    .post-content p {
      word-wrap: break-word;
      overflow-wrap: break-word;
    }

    a.exit-link {
      text-decoration: none;
      color: #d4af37;
      font-family: monospace;
      font-weight: bold;
    }
  </style>
</head>
<body>

  <nav>
    <a href="/ledger.html" class="exit-link">
      <i class="fa-solid fa-arrow-left"></i> BACK TO LEDGER
    </a>
  </nav>

  <main class="container">

    <header class="post-header">
      <h1 class="post-title">The Taxi Tempest</h1>

      <div class="status-strip">
        <div class="status-item">
          <span class="status-label">LOG DATE</span>
          <span class="status-value">DEC 20, 2025</span>
        </div>

        <div class="status-item">
          <span class="status-label">ESPRESSO</span>
          <span class="status-value"><i class="fa-solid fa-mug-hot"></i>6 SHOTS</span>
        </div>

        <div class="status-item">
          <span class="status-label">WEATHER</span>
          <span class="status-value">Emerald Haze (Spin that one, Taylor Swift)...</span>
        </div>

        <div class="status-item mood-box" data-rating="4">
          <span class="status-label">MOOD</span>
          <span class="status-value" id="mood-display">CALCULATING...</span>
        </div>
      </div>
    </header>

    <article class="post-content">

      <p class="lead-paragraph"><strong>Yesterday was one of those days where the universe woke up already sharpening its knives.</strong></p>

      <p>By noon, I was already fried. I had one errand to run. One. And of course, that‚Äôs when the taxi app decided to glitch itself into oblivion. At exactly 12:00 p.m., it pinged me with a cheerful little lie: <strong>Your driver has been dispatched! They are 6 minutes away!</strong></p>

      <p>Six minutes. Six minutes. Six minutes. For half an hour. The little cab icon sat there like it was on a smoke break, refusing to move, refusing to update, refusing to acknowledge that I was on a mission with a closing window.</p>

      <p>And the funniest part? The driver‚Äôs name was <strong>Elroy</strong>. I‚Äôm gonna take a wild stab and say he probably wasn‚Äôt scrolling TikTok ‚Äî which is pretty fucking ironic for a person named Elroy, unless his parents were fans of <em>The Jetsons</em>, in which case, honestly, that would track immensely.</p>

      <p>I‚Äôve been contending with a class of morons in my age bracket or younger for so long that I‚Äôve developed confirmation bias like it‚Äôs the fucking flu. So when that little cab icon didn‚Äôt move for thirty straight minutes, my brain didn‚Äôt go, ‚ÄúHmm, maybe the app is glitching.‚Äù No. It went straight to, ‚ÄúThis man is parked at home, eating Funyuns, laughing at my suffering.‚Äù</p>

      <p>So yes, I got hot‚Äëheaded. I got mouthy. I got <em>done</em>. I was one more frozen pixel away from being banned from the only cab company in town.</p>

      <p>But plot twist: I ended up talking to the operational manager, and it turns out the whole meltdown was caused by a <strong>technical failure</strong> in their live tracking system. No conspiracy. No lazy driver. Just a busted map and a body full of pain that had already burned through its daily ration of niceness.</p>

      <blockquote>
        Chronic pain drains your ability to be pleasant faster than anything else on earth.
      </blockquote>

      <span class="gold-pulse">But this is Harperville‚Ñ¢, where we slap a bow on the chaos and pretend it‚Äôs character development.</span>

     <div class="hv-happy-ending">
  <div class="content">
    <p>I didn‚Äôt get banned.
    The manager was surprisingly decent.
    The errand got done.
    Unfortunately, not by this unicorn-tiger.
    Albeit, finished and hours after it could've.
    And I lived to tell the tale, slightly scorched but still standing.
    So yes, everything is ‚Äúfine.‚Äù
    Fine‚Ñ¢ in the Harperville sense:
    <strong>frayed, furious, exhausted, but upright.</strong></p><br>
    <p>And sometimes that‚Äôs the happiest ending we get.</p>
  </div>

</div>


    </article>

    <footer class="post-footer">
      <img src="/assets/images/harperville-logo.png" alt="Harperville Logo" class="footer-sig">
      <p>END OF LOG</p>
    </footer>

  </main>

  <script>
    document.addEventListener("DOMContentLoaded", function() {
      const moodBox = document.querySelector('.mood-box');
      const display = document.getElementById('mood-display');

      if (moodBox) {
        const rating = parseInt(moodBox.getAttribute('data-rating'));
        let emoji = "üòê";
        if (rating >= 1 && rating <= 3) emoji = "üíÄ (Survival Mode)";
        else if (rating >= 4 && rating <= 5) emoji = "‚òÅÔ∏è (Foggy)";
        else if (rating >= 6 && rating <= 7) emoji = "üèóÔ∏è (Building)";
        else if (rating >= 8 && rating <= 9) emoji = "‚ö° (Charged)";
        else if (rating === 10) emoji = "ü¶Ñ (Sovereign)";
        display.innerText = rating + "/10 " + emoji;
      }
    });
</script>
<script>
(function() {
  const hvBlock = document.querySelector('.hv-happy-ending');
  if (!hvBlock) return;

  // Observe hvBlock into view
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        hvBlock.classList.add('hv-visible');

        // Wait for the print animations to finish before finalizing cursor & splatter
        // Total animation time estimate: paragraph delays + print duration
        // Adjust totalDelay if you change CSS timings
        const totalDelay = 4200; // milliseconds; tune to match CSS (4.2s used earlier)
        setTimeout(() => {
          finalizeCursorAndSplatter(hvBlock);
        }, totalDelay);
      }
    });
  }, { threshold: 0.35 });

  observer.observe(hvBlock);

  function finalizeCursorAndSplatter(block) {
    // Remove any per-paragraph cursors and add a single end-cursor
    // Create or reuse a single cursor element appended to the last paragraph
    const paragraphs = Array.from(block.querySelectorAll('p'));
    if (!paragraphs.length) return;

    // Remove existing ::after cursor illusions by clearing styles if needed
    paragraphs.forEach(p => p.style.setProperty('--show-cursor', '0'));

    const last = paragraphs[paragraphs.length - 1];

    // Create a real DOM cursor so we can position it reliably at the end
    let endCursor = block.querySelector('.hv-end-cursor');
    if (!endCursor) {
      endCursor = document.createElement('span');
      endCursor.className = 'hv-end-cursor';
      endCursor.setAttribute('aria-hidden', 'true');
      block.appendChild(endCursor);
    }

    // Place cursor after the last paragraph's text node
    // Use a zero-width space to ensure the cursor has a stable anchor
    const zwsp = '\u200B';
    if (!last.textContent.endsWith(zwsp)) last.textContent = last.textContent + zwsp;

    // Move the cursor element visually to the end by absolutely positioning it
    // Compute last paragraph bounding box relative to block
    const lastRect = last.getBoundingClientRect();
    const blockRect = block.getBoundingClientRect();

    // Position endCursor
    endCursor.style.position = 'absolute';
    endCursor.style.width = '2px';
    endCursor.style.height = '1.2em';
    endCursor.style.background = 'currentColor';
    endCursor.style.left = (lastRect.right - blockRect.left) + 'px';
    endCursor.style.top = (lastRect.top - blockRect.top) + 'px';
    endCursor.style.transition = 'opacity 0.3s';
    endCursor.style.opacity = '1';

    // Trigger splatter by toggling a class that your CSS uses for splatter timing
    block.classList.add('hv-splatter-on');
  }
})();
  </script>

</body>

</html>
